Name: 挂号
Desc: 帮助用户实现医院看病挂号的任务
SLOTs:
- name: 其他日期挂号意愿
  desc: 是否愿意选择其他日期的号源进行挂号
  type: string
- name: 身份证号
  desc: 提供患者的身份证号
  type: string
- name: 号类
  desc: 医院挂号的类型，一般有专家号和普通号
  type: string
- name: 医院名称
  desc: 医院的名字
  type: string
- name: 科室名称
  desc: 医院的科室
  type: string
- name: 挂号意愿
  desc: 是否考虑其他医院。
  type: string
- name: 其他医院挂号意愿
  desc: 是否愿意挂其他医院的号
  type: string
- name: 挂号时间
  desc: 挂号的时间，识别后需要转换为“a月b日”的格式，a、b是阿拉伯数字，比如3月20日，不要转换成03月20日，而应该是3月20日
  type: string
APIs:
- name: 校验挂号医院
  desc: ''
  precondition: null
- name: 科室校验
  desc: ''
  precondition: null
- name: 查询对应科室可选医院
  desc: ''
  precondition: null
- name: 指定时间号源查询
  desc: ''
  precondition: null
- name: 同医院同科室其他日期号源
  desc: ''
  precondition: null
- name: 获取挂号时间和号类
  desc: ''
  precondition: null
- name: 其他医院号源推荐
  desc: ''
  precondition: null
- name: 本医院挂号执行
  desc: ''
  precondition: null
- name: 医院名称归一化
  desc: ''
  precondition: null
- name: 科室名称归一化
  desc: ''
  precondition: null
ANSWERs:
- name: 医院不存在
  desc: 抱歉，目前无法提供该医院的挂号服务，您考虑下其他医院吗？
- name: 兜底回复
  desc: 兜底回复
- name: 兜底回复1
  desc: 兜底回复1
- name: 无对应科室医院回复
  desc: '{{hos_name}}  没有找到您要挂号的科室，我这边为您转接人工客服咨询一下，请稍等。'
- name: 拒绝其他医院科室回复
  desc: 那建议您关注微信公众号“北京114预约挂号”，根据自身需求随时挂号，感谢您的来电，祝您生活愉快，再见。
- name: 兜底回复2
  desc: 兜底回复2
- name: 兜底回复3
  desc: 兜底回复3
- name: 兜底回复4
  desc: 兜底回复4
- name: 无号回复
  desc: 非常抱歉，最近您想挂的科室，平台已出号的医院近期均无号源，建议您关注微信公众号“北京114预约挂号”，根据自身需求随时挂号，感谢您的来电，祝您生活愉快，再见。
- name: 兜底回复5
  desc: 兜底回复5
- name: 拒绝挂号回复
  desc: 那建议您关注微信公众号“北京114预约挂号”，根据自身需求随时挂号，感谢您的来电，祝您生活愉快，再见。
- name: 本医院挂号成功
  desc: 好的，已为您成功挂了{{hos_name}} {{keshi_name}} {{time}}的号源，稍后也会短信发送到您的来电号码，感谢您的来电，再见。
- name: 结束回复13
  desc: 非常抱歉，暂时没有{{hos_name}} {{keshi_name}} {{time}} 的{{num_type}} ；建议您关注微信公众号“北京114预约挂号”，根据自身需求随时挂号，感谢您的来电，祝您生活愉快，再见。
- name: 兜底回复6
  desc: 兜底回复6
- name: 结束回复15
  desc: 兜底回复11
- name: 结束回复16
  desc: 兜底回复16
Procedure: "\n# 获取基础信息\n[医院名称] = ANSWER.请用户提供必要信息()\n[科室名称] = ANSWER.请用户提供必要信息()\n\
  \n# 医院名称和科室名称归一化\n[医院名称_标准] = API.医院名称归一化([医院名称])\n[科室名称_标准] = API.科室名称归一化([科室名称])\n\
  \n# 校验医院是否存在\n[医院状态] = API.校验挂号医院([医院名称_标准])\nif 医院状态 == '0':\n    ANSWER.医院不存在()\n\
  \    [挂号意愿] = ANSWER.请用户提供必要信息()\nelif 医院状态 == '1':\n    # 校验科室是否存在\n    [科室状态]\
  \ = API.科室校验([医院名称_标准, 科室名称_标准])\n    if 科室状态 == '0':\n        # 查询其他医院科室\n    \
  \    [可选医院, 医院数量] = API.查询对应科室可选医院([科室名称_标准])\n        if 医院数量 > 0:\n          \
  \  [挂号意愿] = ANSWER.请用户提供必要信息()\n            if 挂号意愿 == '愿意':\n                [挂号时间]\
  \ = ANSWER.请用户提供必要信息()\n            else:\n                ANSWER.拒绝其他医院科室回复()\n\
  \        else:\n            ANSWER.无对应科室医院回复()\n    elif 科室状态 == '1':\n        #\
  \ 获取挂号时间\n        [挂号时间] = ANSWER.请用户提供必要信息()\n        \n        # 查询指定时间号源\n  \
  \      [号源数量, 号源列表, 专家号数量, 普通号数量] = API.指定时间号源查询([医院名称_标准, 科室名称_标准, 挂号时间])\n   \
  \     if 号源数量 == 0:\n            # 查询其他日期号源\n            [可挂号日期, 日期数量, 号类信息] = API.同医院同科室其他日期号源([医院名称_标准,\
  \ 科室名称_标准])\n            if 日期数量 == 0:\n                # 查询其他医院号源\n           \
  \     [号源数量, 医院列表, 医生列表] = API.其他医院号源推荐([科室名称_标准, 挂号时间])\n                if 号源数量\
  \ == 0:\n                    ANSWER.无号回复()\n                else:\n            \
  \        [其他医院意愿] = ANSWER.请用户提供必要信息()\n                    if 其他医院意愿 == '愿意':\n\
  \                        [号类, 身份证号] = ANSWER.请用户提供必要信息()\n                    else:\n\
  \                        ANSWER.拒绝挂号回复()\n            else:\n                [其他日期意愿]\
  \ = ANSWER.请用户提供必要信息()\n                if 其他日期意愿 == '不愿意':\n                  \
  \  [号源数量, 医院列表, 医生列表] = API.其他医院号源推荐([科室名称_标准, 挂号时间])\n                else:\n \
  \                   [号类, 身份证号] = ANSWER.请用户提供必要信息()\n        else:\n           \
  \ [号类, 身份证号] = ANSWER.请用户提供必要信息()\n            \n        # 执行挂号\n        [挂号状态]\
  \ = API.本医院挂号执行([身份证号, 号类, 医院名称_标准, 科室名称_标准, 挂号时间])\n        if 挂号状态 > 0:\n    \
  \        ANSWER.本医院挂号成功()\n        else:\n            ANSWER.结束回复13()"
